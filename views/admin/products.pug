extends ../layouts/main-layout.pug

block content 
    if (action !== 'undefined' && action === 'update')
        div.alert.alert-success Ürün güncellendi
    
    if (action !== 'undefined' && action === 'delete')
        div.alert.alert-danger Ürün silindi
    
    
    if products.length > 0
        table.table.table-bordered 
            thead 
                tr 
                    th(style="width:100px") Image 
                    th Product Name 
                    th(style="width:150") Description
                    th(style="width:133px") Price
                    th 

            tbody
                each product in products 
                    tr 
                        td 
                            img(src=`${product.imageUrl}` width='80')
                        td #{product.name}
                        td #{product.description}
                        td #{product.price} TL 
                        td 
                            a.btn.btn-primary.btn-sm.mr-2(href=`/admin/products/${product.id}`) Edit 
                            form(action="/admin/delete-product" method="post")
                                input(type="hidden" name="id" value=`${product.id}`)
                                button(type='submit').btn.btn-danger.btn-sm Delete
    else    
        h1 No Products                    